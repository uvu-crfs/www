<!-- home.html -->
    <!-- <div class="jumbotron text-center">
        <h1>Reports Page</h1>
        <style>
          img {
            margin: auto;
            display: block;
          }
        </style>
        <img src="./pictures/leaderboard.svg"/>
        <br>
        <img src="./pictures/usage_pie_charts.png"/>
    </div> -->
    <!-- <html>
    <head>
    </head>

    <body> -->
<div id="chart"></div>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js" charset="utf-8"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>
<?php
function get_all_affiliations_from_groups(){
  $stmt = $GLOBALS['pdo']->prepare('select affiliation FROM groups');
  $stmt->execute();
  print_json(array_count_values(get_all_rows($stmt)));
}
<script>
?>

//make c3 generate a report
// var array = get_all_affiliations_from_groups();
//
// //print affiliations and count array to console
// console.log(array);
console.log("<?php get_all_affiliations_from_groups() ?>");
var chart = c3.generate({
    data: {
        // iris data from R
        columns: [
            ['data1', 30],
            ['data2', 120],
        ],
        type : 'pie',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
    }
});
</script>
